[
  {
    "label": "Debug Tauri App (macOS/Linux)",
    "build": {
      "command": "yarn",
      "args": [
        "tauri",
        "dev",
        "--no-watch"
      ]
    },
    "sourceLanguages": [
      "rust"
    ],
    "request": "launch",
    "cwd": "${workspaceFolder}",
    "adapter": "CodeLLDB"
  },
  {
    "label": "Debug Rust Backend (macOS/Linux)",
    "build": {
      "command": "cargo",
      "args": [
        "build",
        "--manifest-path",
        "src-tauri/Cargo.toml",
        "--no-default-features"
      ]
    },
    "program": "${workspaceFolder}/src-tauri/target/debug/chatspeed",
    "adapter": "CodeLLDB",
    "sourceLanguages": [
      "rust"
    ],
    "request": "launch",
    "cwd": "${workspaceFolder}",
    "env": {
      "RUST_LOG": "debug",
      "TAURI_DEV": "1"
    }
  },
  {
    "label": "Debug Tauri App (Windows)",
    "build": {
      "command": "powershell",
      "args": [
        "-Command",
        "yarn tauri dev --no-watch"
      ]
    },
    "adapter": "CodeLLDB",
    "sourceLanguages": [
      "rust"
    ],
    "request": "launch",
    "cwd": "${workspaceFolder}"
  },
  {
    "label": "Debug Rust Backend (Windows)",
    "build": {
      "command": "cargo",
      "args": [
        "build",
        "--manifest-path",
        "src-tauri/Cargo.toml",
        "--no-default-features"
      ]
    },
    "program": "${workspaceFolder}/src-tauri/target/debug/chatspeed.exe",
    "adapter": "CodeLLDB",
    "sourceLanguages": [
      "rust"
    ],
    "request": "launch",
    "cwd": "${workspaceFolder}",
    "env": {
      "RUST_LOG": "debug",
      "TAURI_DEV": "1"
    }
  },
  {
    "label": "Debug Production Build (Cross-platform)",
    "build": {
      "command": "cargo",
      "args": [
        "build",
        "--release",
        "--manifest-path",
        "src-tauri/Cargo.toml"
      ]
    },
    "program": "${workspaceFolder}/src-tauri/target/release/chatspeed${os:windows .exe}",
    "adapter": "CodeLLDB",
    "sourceLanguages": [
      "rust"
    ],
    "request": "launch",
    "cwd": "${workspaceFolder}",
    "env": {
      "RUST_LOG": "info"
    }
  },
  {
    "label": "Debug Tests (Cross-platform)",
    "build": {
      "command": "cargo",
      "args": [
        "test",
        "--manifest-path",
        "src-tauri/Cargo.toml",
        "--no-run"
      ]
    },
    "program": "${workspaceFolder}/src-tauri/target/debug/deps/chatspeed-*${os:windows .exe}",
    "adapter": "CodeLLDB",
    "sourceLanguages": [
      "rust"
    ],
    "request": "launch",
    "cwd": "${workspaceFolder}",
    "env": {
      "RUST_BACKTRACE": "full",
      "RUST_LOG": "debug"
    }
  }
]